(()=>{(function(){"use strict";function m(t){if(!t)return null;let n=t.split("-");if(n.length!==3)return null;let d=parseInt(n[0],10),e=parseInt(n[1],10)-1,a=parseInt(n[2],10),r=new Date(Date.UTC(d,e,a));return r.getUTCFullYear()===d&&r.getUTCMonth()===e&&r.getUTCDate()===a?r:null}function T(t){try{return Array.from({length:12},(n,d)=>new Intl.DateTimeFormat(t,{month:"long",timeZone:"UTC"}).format(new Date(Date.UTC(2e3,d,1))))}catch{return["January","February","March","April","May","June","July","August","September","October","November","December"]}}function b(t,n){try{return Array.from({length:7},(d,e)=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(Date.UTC(2e3,0,e+2+n))))}catch{return["Su","Mo","Tu","We","Th","Fr","Sa"]}}function y(t){let d=t.closest("[data-tui-calendar-wrapper]")?.querySelector("[data-tui-calendar-hidden-input]");if(!d&&t.id){let e=t.id.replace("-calendar-instance","");d=document.getElementById(e+"-hidden")}return d}function u(t){let n=t.querySelector("[data-tui-calendar-month-display]"),d=t.querySelector("[data-tui-calendar-weekdays]"),e=t.querySelector("[data-tui-calendar-days]");if(!n||!d||!e)return;let a=parseInt(t.dataset.tuiCalendarCurrentMonth),r=parseInt(t.dataset.tuiCalendarCurrentYear);if(isNaN(a)||isNaN(r)){let s=parseInt(t.getAttribute("data-tui-calendar-initial-month")),i=parseInt(t.getAttribute("data-tui-calendar-initial-year")),f=t.getAttribute("data-tui-calendar-selected-date");if(f){let c=m(f);c&&(a=c.getUTCMonth(),r=c.getUTCFullYear())}isNaN(a)&&(a=isNaN(s)?new Date().getMonth():s),isNaN(r)&&(r=!isNaN(i)&&i>0?i:new Date().getFullYear()),t.dataset.tuiCalendarCurrentMonth=a,t.dataset.tuiCalendarCurrentYear=r}let g=t.getAttribute("data-tui-calendar-locale-tag")||"en-US",l=parseInt(t.getAttribute("data-tui-calendar-start-of-week"))||1,o=t.getAttribute("data-tui-calendar-selected-date"),D=o?m(o):null,w=T(g);if(n.textContent=`${w[a]} ${r}`,!d.children.length){let s=b(g,l);d.innerHTML=s.map(i=>`<div class="text-center text-xs text-muted-foreground font-medium">${i}</div>`).join("")}e.innerHTML="";let M=((new Date(Date.UTC(r,a,1)).getUTCDay()-l)%7+7)%7,I=new Date(Date.UTC(r,a+1,0)).getUTCDate(),C=new Date,v=new Date(Date.UTC(C.getFullYear(),C.getMonth(),C.getDate()));for(let s=0;s<M;s++)e.innerHTML+='<div class="h-8 w-8"></div>';for(let s=1;s<=I;s++){let i=new Date(Date.UTC(r,a,s)),f=D&&i.getTime()===D.getTime(),c=i.getTime()===v.getTime(),h="inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium focus:outline-none focus:ring-1 focus:ring-ring";f?h+=" bg-primary text-primary-foreground hover:bg-primary/90":c?h+=" bg-accent text-accent-foreground":h+=" hover:bg-accent hover:text-accent-foreground",e.innerHTML+=`<button type="button" class="${h}" data-tui-calendar-day="${s}">${s}</button>`}}document.addEventListener("click",t=>{let n=t.target.closest("[data-tui-calendar-prev]");if(n){let e=n.closest("[data-tui-calendar-container]");if(!e)return;let a=parseInt(e.dataset.tuiCalendarCurrentMonth)||new Date().getMonth(),r=parseInt(e.dataset.tuiCalendarCurrentYear)||new Date().getFullYear();a--,a<0&&(a=11,r--),e.dataset.tuiCalendarCurrentMonth=a,e.dataset.tuiCalendarCurrentYear=r,u(e);return}let d=t.target.closest("[data-tui-calendar-next]");if(d){let e=d.closest("[data-tui-calendar-container]");if(!e)return;let a=parseInt(e.dataset.tuiCalendarCurrentMonth)||new Date().getMonth(),r=parseInt(e.dataset.tuiCalendarCurrentYear)||new Date().getFullYear();a++,a>11&&(a=0,r++),e.dataset.tuiCalendarCurrentMonth=a,e.dataset.tuiCalendarCurrentYear=r,u(e);return}if(t.target.matches("[data-tui-calendar-day]")){let e=t.target.closest("[data-tui-calendar-container]");if(!e)return;let a=parseInt(t.target.dataset.tuiCalendarDay),r=parseInt(e.dataset.tuiCalendarCurrentMonth)||new Date().getMonth(),g=parseInt(e.dataset.tuiCalendarCurrentYear)||new Date().getFullYear(),l=new Date(Date.UTC(g,r,a));e.setAttribute("data-tui-calendar-selected-date",l.toISOString().split("T")[0]);let o=y(e);o&&(o.value=l.toISOString().split("T")[0],o.dispatchEvent(new Event("change",{bubbles:!0}))),e.dispatchEvent(new CustomEvent("calendar-date-selected",{bubbles:!0,detail:{date:l}})),u(e)}}),document.addEventListener("reset",t=>{t.target.matches("form")&&t.target.querySelectorAll("[data-tui-calendar-container]").forEach(n=>{let d=y(n);d&&(d.value=""),n.removeAttribute("data-tui-calendar-selected-date");let e=new Date;n.dataset.tuiCalendarCurrentMonth=e.getMonth(),n.dataset.tuiCalendarCurrentYear=e.getFullYear(),u(n)})}),new MutationObserver(()=>{document.querySelectorAll("[data-tui-calendar-container]").forEach(t=>{let n=t.querySelector("[data-tui-calendar-days]");n&&!n.children.length&&u(t)})}).observe(document.body,{childList:!0,subtree:!0});function p(){document.querySelectorAll("[data-tui-calendar-container]").forEach(u)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",p):p()})();})();
