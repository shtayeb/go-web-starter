(()=>{(function(){"use strict";function m(t){if(!t)return null;let r=t.split("-");if(r.length!==3)return null;let d=parseInt(r[0],10),e=parseInt(r[1],10)-1,a=parseInt(r[2],10),n=new Date(Date.UTC(d,e,a));return n.getUTCFullYear()===d&&n.getUTCMonth()===e&&n.getUTCDate()===a?n:null}function T(t){try{return Array.from({length:12},(r,d)=>new Intl.DateTimeFormat(t,{month:"long",timeZone:"UTC"}).format(new Date(Date.UTC(2e3,d,1))))}catch{return["January","February","March","April","May","June","July","August","September","October","November","December"]}}function b(t,r){try{return Array.from({length:7},(d,e)=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(Date.UTC(2e3,0,e+2+r))))}catch{return["Su","Mo","Tu","We","Th","Fr","Sa"]}}function y(t){let d=t.closest("[data-tui-calendar-wrapper]")?.querySelector("[data-tui-calendar-hidden-input]");if(!d&&t.id){let e=t.id.replace("-calendar-instance","");d=document.getElementById(e+"-hidden")}return d}function u(t){let r=t.querySelector("[data-tui-calendar-month-display]"),d=t.querySelector("[data-tui-calendar-weekdays]"),e=t.querySelector("[data-tui-calendar-days]");if(!r||!d||!e)return;let a=parseInt(t.dataset.tuiCalendarCurrentMonth),n=parseInt(t.dataset.tuiCalendarCurrentYear);if(isNaN(a)||isNaN(n)){let i=parseInt(t.getAttribute("data-tui-calendar-initial-month")),s=parseInt(t.getAttribute("data-tui-calendar-initial-year")),g=t.getAttribute("data-tui-calendar-selected-date");if(g){let f=m(g);f&&(a=f.getUTCMonth(),n=f.getUTCFullYear())}isNaN(a)&&(a=isNaN(i)?new Date().getMonth():i),isNaN(n)&&(n=!isNaN(s)&&s>0?s:new Date().getFullYear()),t.dataset.tuiCalendarCurrentMonth=a,t.dataset.tuiCalendarCurrentYear=n}let l=t.getAttribute("data-tui-calendar-locale-tag")||"en-US",o=parseInt(t.getAttribute("data-tui-calendar-start-of-week"))||1,c=t.getAttribute("data-tui-calendar-selected-date"),D=c?m(c):null,w=T(l);if(r.textContent=`${w[a]} ${n}`,!d.children.length){let i=b(l,o);d.innerHTML=i.map(s=>`<div class="text-center text-xs text-muted-foreground font-medium">${s}</div>`).join("")}e.innerHTML="";let M=((new Date(Date.UTC(n,a,1)).getUTCDay()-o)%7+7)%7,N=new Date(Date.UTC(n,a+1,0)).getUTCDate(),C=new Date,I=new Date(Date.UTC(C.getFullYear(),C.getMonth(),C.getDate()));for(let i=0;i<M;i++)e.innerHTML+='<div class="h-8 w-8"></div>';for(let i=1;i<=N;i++){let s=new Date(Date.UTC(n,a,i)),g=D&&s.getTime()===D.getTime(),f=s.getTime()===I.getTime(),h="inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium focus:outline-none focus:ring-1 focus:ring-ring";g?h+=" bg-primary text-primary-foreground hover:bg-primary/90":f?h+=" bg-accent text-accent-foreground":h+=" hover:bg-accent hover:text-accent-foreground",e.innerHTML+=`<button type="button" class="${h}" data-tui-calendar-day="${i}">${i}</button>`}}document.addEventListener("click",t=>{let r=t.target.closest("[data-tui-calendar-prev]");if(r){let e=r.closest("[data-tui-calendar-container]");if(!e)return;let a=parseInt(e.dataset.tuiCalendarCurrentMonth,10),n=parseInt(e.dataset.tuiCalendarCurrentYear,10);isNaN(a)&&(a=new Date().getMonth()),isNaN(n)&&(n=new Date().getFullYear()),a--,a<0&&(a=11,n--),e.dataset.tuiCalendarCurrentMonth=a,e.dataset.tuiCalendarCurrentYear=n,u(e);return}let d=t.target.closest("[data-tui-calendar-next]");if(d){let e=d.closest("[data-tui-calendar-container]");if(!e)return;let a=parseInt(e.dataset.tuiCalendarCurrentMonth,10),n=parseInt(e.dataset.tuiCalendarCurrentYear,10);isNaN(a)&&(a=new Date().getMonth()),isNaN(n)&&(n=new Date().getFullYear()),a++,a>11&&(a=0,n++),e.dataset.tuiCalendarCurrentMonth=a,e.dataset.tuiCalendarCurrentYear=n,u(e);return}if(t.target.matches("[data-tui-calendar-day]")){let e=t.target.closest("[data-tui-calendar-container]");if(!e)return;let a=parseInt(t.target.dataset.tuiCalendarDay),n=parseInt(e.dataset.tuiCalendarCurrentMonth,10),l=parseInt(e.dataset.tuiCalendarCurrentYear,10);isNaN(n)&&(n=new Date().getMonth()),isNaN(l)&&(l=new Date().getFullYear());let o=new Date(Date.UTC(l,n,a));e.setAttribute("data-tui-calendar-selected-date",o.toISOString().split("T")[0]);let c=y(e);c&&(c.value=o.toISOString().split("T")[0],c.dispatchEvent(new Event("change",{bubbles:!0}))),e.dispatchEvent(new CustomEvent("calendar-date-selected",{bubbles:!0,detail:{date:o}})),u(e)}}),document.addEventListener("reset",t=>{t.target.matches("form")&&t.target.querySelectorAll("[data-tui-calendar-container]").forEach(r=>{let d=y(r);d&&(d.value=""),r.removeAttribute("data-tui-calendar-selected-date");let e=new Date;r.dataset.tuiCalendarCurrentMonth=e.getMonth(),r.dataset.tuiCalendarCurrentYear=e.getFullYear(),u(r)})}),new MutationObserver(()=>{document.querySelectorAll("[data-tui-calendar-container]").forEach(t=>{let r=t.querySelector("[data-tui-calendar-days]");r&&!r.children.length&&u(t)})}).observe(document.body,{childList:!0,subtree:!0});function p(){document.querySelectorAll("[data-tui-calendar-container]").forEach(u)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",p):p()})();})();
